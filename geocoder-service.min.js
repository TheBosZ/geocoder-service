!function(a){"use strict";a.module("geocoder-service",[]).factory("geocoderService",["$document","$window","$q",function(a,b,c){var d,e=!1,f=!1,g=[];b.__initMaps=function(){f=!0,d=new b.google.maps.Geocoder;for(var a=0;a<g.length;++a)g[a].resolve();delete b.__initMaps};var h=function(a,c){d.geocode({address:c},function(c,d){d===b.google.maps.GeocoderStatus.OK&&c.length>0?a.resolve(c[0].geometry.location):a.reject()})},i=function(){if(!e){e=!0;var b=a[0],c=b.createElement("script");c.type="text/javascript",c.src="https://maps.googleapis.com/maps/api/js?v=3.exp&callback=__initMaps",b.body.appendChild(c)}};return{getLatLong:function(a){var b=c.defer();if(f)h(b,a);else{var d=c.defer();g.push(d),d.promise.then(function(){h(b,a)}),i()}return b.promise}}}])}(angular);